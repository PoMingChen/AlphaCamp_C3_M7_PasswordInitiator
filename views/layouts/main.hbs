<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="/stylesheets/PasswordInitiator.css" rel="stylesheet">
  <title>(Random) Password Initiator</title>

  <style>
    .invalid-feedback, .valid-feedback {
      display: none;
      font-size: 0.8em;
    }

    .invalid-feedback {
      color: red;
    }

    .valid-feedback {
      color: green;
    }

    form.was-validated .form-control:invalid ~ .invalid-feedback {
      display: initial;
    }

    form.was-validated .form-control:valid ~ .valid-feedback {
      display: initial;
    }

    form.was-validated .form-control:invalid {
      border-color: red;
    }

    form.was-validated .form-control:valid {
      border-color: green ;
    }
  </style>
</head>

<body>

  {{!-- {{{body}}} --}}
  <form novalidate> {{!-- the action, method attribute will keep as default if you don't add it--}}

    <div class="form-group">
        <label for="name">姓名：</label> {{!--for="name" 和 id="name" 會互相綁定--}}
        <input name="name" id="name" placeholder="請輸入你的全名..." type="text" maxlength="3" class="form-control" required>
        <div class="invalid-feedback">
          This field is required.
        </div>

        <div class="valid-feedback">
          Good!
        </div>
    </div>

    <div class="form-group">
      <label for="email">電子郵件地址</label>
      <input type="email" class="form-control" name="email" id="email" placeholder="請輸入你的電子郵件 ..." required>
    </div>

    <div class="form-group">
      <label for="experience">工作年資</label>
      <select name="experience" id="experience">
        <option>新鮮人</option> {{!沒有寫value，就會送出'新鮮人'幾個字}}
        <option value="1">1 - 3 年</option>
        <option value="3">3 - 5 年</option>
        <option value="5">5 年以上</option>
      </select>
    </div>

    <div class="form-group">
      <label for="title">目前職稱</label> 
      <input name="current-title" id="title" list="titles" class="form-control">
      <datalist id="titles">
          <option value="1"></option>
          <option value="2"></option>
          <option value="3"></option>
      </datalist>
    </div>

    <div class="form-group">
      <label for="intro">自我介紹</label>
      <textarea name="intro" id="intro" rows="5" placeholder="介紹一下你自己的吧！"></textarea>
    </div>


    <div class="form-group">
      <label for="Password_Length">Password Length</label> 
      <input name = "Password_Length" id="Password_Length" placeholder="請輸入你想要的密碼長度..." type="number" min="1" inputmode="numeric">
    </div>

    {{!-- 這邊的 name 要改，送出時候表單網址應該才會顯示 --}}
    <fieldset class="form-group" id="job-hunting-status" name="job-hunting-status">
      <legend class="col-form-label" for="job-hunting-status">Include Lowercase Characters</legend>
      <div class="form-check form-check-inline">
        <input class="form-check-input" name="job-hunting" type="checkbox" id="active" value="active">
        <label class="form-check-label" for="active">
          (e.g. abcdefg)
        </label>
      </div>
    </fieldset>

    <fieldset class="form-group" id="job-hunting-status" name="job-hunting-status">
      <legend class="col-form-label" for="job-hunting-status">Include Uppercase Characters</legend>
      <div class="form-check form-check-inline">
        <input class="form-check-input" name="job-hunting" type="radio" id="active" value="active">
        <label class="form-check-label" for="active">
          (e.g. ABCDEFG)
        </label>
      </div>
    </fieldset>
 
    <div class="form-group">
      <label for="Exclude_Characters">Exclude Characters</label>
      <input id="Exclude_Characters" type="text">
    </div>

    <button id="submit-btn" type="submit" class="btn btn-primary">Generate Password</button>

  </form>
  
  {{!-- 為了展示方便，助教把 HTML/CSS/JS 寫在同一支檔案裡，一般情況還是建議大家拆開。  --}}
  <script>
    const form = document.querySelector('form')
    const submitButton = document.querySelector('#submit-btn')

    submitButton.addEventListener('click', function onSubmitButtonClicked(event) {
        form.classList.add('was-validated')
    })

    form.addEventListener('submit', function onFormSubmit(event){
        if(!form.checkValidity()){
          event.stopPropagation() //停止向父層元素傳遞
          event.preventDefault() //停止（瀏覽器）預設行為，像是頁面在提交時刷新
          alert('Form invalid')  //驗證不通過，就跳 alert
        }

    })
  </script>

  <script src="/javascripts/bootstrap.bundle.min.js"></script>
</body>

</html>

